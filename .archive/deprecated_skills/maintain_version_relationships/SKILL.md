---
name: maintain_version_relationships
description: ç»´æŠ¤ç‰ˆæœ¬å…³è”å…³ç³»ï¼Œåˆ†æçŸ¥è¯†ç»„ä»¶ä¾èµ–å…³ç³»ï¼Œå»ºç«‹æ–°æ—§ç‰ˆæœ¬æ˜ å°„ï¼Œç»´æŠ¤ç‰ˆæœ¬æº¯æºè·¯å¾„ï¼ŒéªŒè¯å…³è”å®Œæ•´æ€§ï¼Œæ›´æ–°ç‰ˆæœ¬ç´¢å¼•
tools: [Read, Write, Edit]
---

# maintain_version_relationships - ç‰ˆæœ¬å…³è”å…³ç³»ç»´æŠ¤å™¨

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

æ¥æ”¶ç‰ˆæœ¬å˜æ›´ä¿¡æ¯ï¼Œåˆ†æçŸ¥è¯†ç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œå»ºç«‹æ–°æ—§ç‰ˆæœ¬ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œç»´æŠ¤å®Œæ•´çš„ç‰ˆæœ¬æº¯æºè·¯å¾„ï¼ŒéªŒè¯å…³è”å…³ç³»çš„å®Œæ•´æ€§ï¼Œå¹¶æ›´æ–°ç‰ˆæœ¬ç´¢å¼•ã€‚

## ğŸ“‹ å·¥ä½œæµSOP

**å·¥ä½œæµSOP**ï¼š
```
1. æ¥æ”¶ç‰ˆæœ¬å˜æ›´ä¿¡æ¯
2. åˆ†æçŸ¥è¯†ç»„ä»¶ä¾èµ–å…³ç³»
3. å»ºç«‹æ–°æ—§ç‰ˆæœ¬æ˜ å°„
4. ç»´æŠ¤ç‰ˆæœ¬æº¯æºè·¯å¾„
5. éªŒè¯å…³è”å®Œæ•´æ€§
6. æ›´æ–°ç‰ˆæœ¬ç´¢å¼•
7. è¿”å›ç»´æŠ¤ç»“æœ
```

### è¯¦ç»†æµç¨‹è¯´æ˜

**æ­¥éª¤1ï¼šæ¥æ”¶ç‰ˆæœ¬å˜æ›´ä¿¡æ¯**
- éªŒè¯ç‰ˆæœ¬å˜æ›´é›†åˆçš„å®Œæ•´æ€§
- æ£€æŸ¥ç»„ä»¶ä¾èµ–å…³ç³»çš„æœ‰æ•ˆæ€§
- è§£ææº¯æºè¦æ±‚å’ŒéªŒè¯è§„åˆ™
- è®°å½•å˜æ›´åŸºæœ¬ä¿¡æ¯

**æ­¥éª¤2ï¼šåˆ†æçŸ¥è¯†ç»„ä»¶ä¾èµ–å…³ç³»**
- åˆ†æçŸ¥è¯†ç»„ä»¶é—´çš„ä¾èµ–å…³ç³»
- è¯†åˆ«å…³é”®ä¾èµ–å’Œå¼•ç”¨å…³ç³»
- æ£€æŸ¥å¾ªç¯ä¾èµ–å’Œå†²çª
- ç”Ÿæˆä¾èµ–å…³ç³»å›¾

**æ­¥éª¤3ï¼šå»ºç«‹æ–°æ—§ç‰ˆæœ¬æ˜ å°„**
- ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»ºç‰ˆæœ¬æ˜ å°„
- ç¡®å®šæ˜ å°„ç±»å‹ï¼ˆç›´æ¥/ç»“æ„/å†…å®¹ï¼‰
- è®¡ç®—æ˜ å°„çš„ç½®ä¿¡åº¦
- ç”Ÿæˆç‰ˆæœ¬æ˜ å°„é›†åˆ

**æ­¥éª¤4ï¼šç»´æŠ¤ç‰ˆæœ¬æº¯æºè·¯å¾„**
- æ„å»ºå®Œæ•´çš„å†å²è¿½æº¯è·¯å¾„
- è®°å½•ç‰ˆæœ¬åˆ›å»ºå’Œæ›´æ–°æ—¶é—´
- ç»´æŠ¤ç‰ˆæœ¬é—´çš„æ´¾ç”Ÿå…³ç³»
- ç”Ÿæˆæº¯æºè·¯å¾„é›†åˆ

**æ­¥éª¤5ï¼šéªŒè¯å…³è”å®Œæ•´æ€§**
- éªŒè¯æ‰€æœ‰æ˜ å°„çš„å®Œæ•´æ€§
- æ£€æŸ¥æº¯æºè·¯å¾„çš„è¿ç»­æ€§
- éªŒè¯ä¾èµ–å…³ç³»çš„æ­£ç¡®æ€§
- ç”Ÿæˆå®Œæ•´æ€§éªŒè¯æŠ¥å‘Š

**æ­¥éª¤6ï¼šæ›´æ–°ç‰ˆæœ¬ç´¢å¼•**
- æ›´æ–°ç‰ˆæœ¬ç´¢å¼•æ•°æ®åº“
- ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- å¯ç”¨å…¨æ–‡æœç´¢
- ç”Ÿæˆç´¢å¼•æ›´æ–°ç¡®è®¤

**æ­¥éª¤7ï¼šè¿”å›ç»´æŠ¤ç»“æœ**
- è¿”å›ç‰ˆæœ¬æ˜ å°„å…³ç³»
- æä¾›æº¯æºè·¯å¾„
- è¿”å›ä¾èµ–å…³ç³»å›¾
- æä¾›ç»´æŠ¤çŠ¶æ€ä¿¡æ¯

## ğŸ“‹ è¾“å…¥è§„èŒƒ

### å¿…éœ€è¾“å…¥
```json
{
  "version_changes": [
    {
      "component_type": "knowledge_entry",
      "old_version_id": "knl_001_v1",
      "new_version_id": "knl_001_v2",
      "change_type": "content_update"
    },
    {
      "component_type": "tags",
      "old_version_id": "tags_001_v1",
      "new_version_id": "tags_001_v2",
      "change_type": "structural_update"
    }
  ],
  "component_dependencies": {
    "knl_001": ["tags_001", "faq_001", "knowledge_points_001"],
    "tags_001": ["knowledge_graph_001"]
  }
}
```

### å¯é€‰è¾“å…¥
```json
{
  "traceability_requirements": {
    "maintain_full_history": true,
    "enable_rollback": true,
    "track_dependencies": true
  },
  "validation_rules": {
    "check_circular_deps": true,
    "verify_completeness": true
  }
}
```

## ğŸ“¤ è¾“å‡ºå†…å®¹

### æ ‡å‡†è¾“å‡º
```json
{
  "version_mappings": [
    {
      "component_type": "knowledge_entry",
      "old_version": "knl_001_v1",
      "new_version": "knl_001_v2",
      "mapping_type": "direct",
      "confidence": 0.98,
      "change_summary": {
        "fields_changed": ["content", "tags"],
        "change_percentage": 0.15
      }
    },
    {
      "component_type": "tags",
      "old_version": "tags_001_v1",
      "new_version": "tags_001_v2",
      "mapping_type": "structural",
      "confidence": 0.92,
      "change_summary": {
        "tags_added": 2,
        "tags_removed": 1,
        "tags_modified": 3
      }
    }
  ],
  "traceability_paths": [
    {
      "knowledge_id": "knl_001",
      "version_history": ["v1.0", "v1.1", "v2.0"],
      "current_version": "v2.0",
      "creation_date": "2023-01-15",
      "last_updated": "2024-01-15"
    }
  ],
  "dependency_graph": {
    "nodes": [
      {"id": "knl_001_v2", "type": "knowledge_entry"},
      {"id": "tags_001_v2", "type": "tags"},
      {"id": "faq_001_v2", "type": "faq"}
    ],
    "edges": [
      {"from": "knl_001_v2", "to": "tags_001_v2", "type": "uses"},
      {"from": "knl_001_v2", "to": "faq_001_v2", "type": "references"}
    ]
  },
  "maintenance_status": {
    "status": "success",
    "mappings_created": 8,
    "paths_maintained": 5,
    "dependencies_verified": 12,
    "processing_time": 2.3
  }
}
```

## ğŸª ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: ç»´æŠ¤å¹´å‡æ”¿ç­–ç‰ˆæœ¬å…³è”
```
ä½¿ç”¨ maintain_version_relationships ç»´æŠ¤å¹´å‡æ”¿ç­–ç‰ˆæœ¬å…³è”

ç‰ˆæœ¬å˜æ›´ï¼š
- çŸ¥è¯†æ¡ç›®ï¼šknl_001_v1 â†’ knl_001_v2
- æ ‡ç­¾ï¼štags_001_v1 â†’ tags_001_v2
- FAQï¼šfaq_001_v1 â†’ faq_001_v2
- çŸ¥è¯†ç‚¹ï¼šknowledge_points_001_v1 â†’ knowledge_points_001_v2

ä¾èµ–å…³ç³»ï¼š
- çŸ¥è¯†æ¡ç›®ä¾èµ–æ ‡ç­¾ã€FAQã€çŸ¥è¯†ç‚¹
- æ ‡ç­¾ä¾èµ–çŸ¥è¯†å›¾è°±

å¤„ç†è¿‡ç¨‹ï¼š
1. æ¥æ”¶ç‰ˆæœ¬å˜æ›´ä¿¡æ¯
2. åˆ†æç»„ä»¶ä¾èµ–å…³ç³»
3. å»ºç«‹ç‰ˆæœ¬æ˜ å°„ï¼š
   - çŸ¥è¯†æ¡ç›®v1â†’v2ï¼ˆç›´æ¥æ˜ å°„ï¼‰
   - æ ‡ç­¾v1â†’v2ï¼ˆç»“æ„æ˜ å°„ï¼‰
   - FAQv1â†’v2ï¼ˆå†…å®¹æ˜ å°„ï¼‰
   - çŸ¥è¯†ç‚¹v1â†’v2ï¼ˆç›´æ¥æ˜ å°„ï¼‰
4. ç»´æŠ¤æº¯æºè·¯å¾„ï¼š
   - knl_001: v1.0 â†’ v1.1 â†’ v2.0
   - tags_001: v1.0 â†’ v2.0
   - faq_001: v1.0 â†’ v2.0
5. éªŒè¯å…³è”å®Œæ•´æ€§
6. æ›´æ–°ç‰ˆæœ¬ç´¢å¼•

ç»“æœï¼š
- åˆ›å»º8ä¸ªç‰ˆæœ¬æ˜ å°„
- ç»´æŠ¤5æ¡æº¯æºè·¯å¾„
- éªŒè¯12ä¸ªä¾èµ–å…³ç³»
- å…³è”å…³ç³»å‡†ç¡®ç‡ï¼š98%
```

## ğŸ”§ é…ç½®é€‰é¡¹

### å…³è”ç»´æŠ¤é…ç½®
```yaml
relationship_maintenance:
  mapping:
    create_direct_mappings: true
    create_structural_mappings: true
    confidence_threshold: 0.9
    
  traceability:
    maintain_full_history: true
    enable_version_rollback: true
    track_all_changes: true
    
  dependency:
    analyze_dependencies: true
    verify_completeness: true
    check_circular_refs: true
```

### é«˜çº§é…ç½®
```yaml
advanced:
  graph_maintenance:
    update_dependency_graph: true
    optimize_graph_layout: true
    detect_orphan_nodes: true
    
  validation:
    validate_mappings: true
    verify_paths: true
    check_integrity: true
    
  indexing:
    update_version_index: true
    optimize_query_performance: true
    enable_full_text_search: true
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ•°æ®å®Œæ•´æ€§
- **æ˜ å°„å‡†ç¡®æ€§**: ç¡®ä¿ç‰ˆæœ¬æ˜ å°„çš„å‡†ç¡®æ€§
- **è·¯å¾„å®Œæ•´æ€§**: ç»´æŠ¤å®Œæ•´çš„æº¯æºè·¯å¾„
- **ä¾èµ–ä¸€è‡´æ€§**: ä¿æŒä¾èµ–å…³ç³»çš„ä¸€è‡´æ€§

### æ€§èƒ½ä¼˜åŒ–
- **å¢é‡ç»´æŠ¤**: åªç»´æŠ¤å˜æ›´çš„éƒ¨åˆ†
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡ç»´æŠ¤æ“ä½œ
- **å¼‚æ­¥å¤„ç†**: å¤§é‡ç»´æŠ¤æ—¶ä½¿ç”¨å¼‚æ­¥å¤„ç†

### é”™è¯¯å¤„ç†
- **æ˜ å°„å†²çª**: å¤„ç†ç‰ˆæœ¬æ˜ å°„å†²çª
- **ä¾èµ–ç¼ºå¤±**: å¤„ç†ä¾èµ–å…³ç³»ç¼ºå¤±
- **è·¯å¾„æ–­è£‚**: å¤„ç†æº¯æºè·¯å¾„æ–­è£‚

## ğŸ“Š è´¨é‡éªŒè¯æŒ‡æ ‡

### æ ¸å¿ƒæŒ‡æ ‡
- **å…³è”å…³ç³»å‡†ç¡®ç‡**: â‰¥98%ï¼ˆç›®æ ‡å€¼ï¼‰
- **æº¯æºè·¯å¾„å®Œæ•´æ€§**: â‰¥95%ï¼ˆç›®æ ‡å€¼ï¼‰
- **ä¾èµ–éªŒè¯å‡†ç¡®ç‡**: â‰¥95%ï¼ˆç›®æ ‡å€¼ï¼‰
- **ç»´æŠ¤æˆåŠŸç‡**: â‰¥97%ï¼ˆç›®æ ‡å€¼ï¼‰

### è¯„ä¼°ç»´åº¦
- **æ˜ å°„å‡†ç¡®æ€§**: ç‰ˆæœ¬æ˜ å°„çš„å‡†ç¡®æ€§
- **è·¯å¾„å®Œæ•´æ€§**: æº¯æºè·¯å¾„çš„å®Œæ•´æ€§
- **ä¾èµ–æ­£ç¡®æ€§**: ä¾èµ–å…³ç³»çš„æ­£ç¡®æ€§
- **æ•´ä½“ä¸€è‡´æ€§**: æ•´ä½“å…³ç³»çš„ä¸€è‡´æ€§

---

**maintain_version_relationships** - ç²¾å‡†ç»´æŠ¤ç‰ˆæœ¬å…³ç³»ï¼Œç¡®ä¿çŸ¥è¯†å¯è¿½æº¯ï¼ ğŸ”—